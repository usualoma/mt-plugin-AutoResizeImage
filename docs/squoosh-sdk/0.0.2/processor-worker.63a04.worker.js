!function(e){self.webpackChunk=function(t,r){for(var o in r)e[o]=r[o];for(;t.length;)n[t.pop()]=1};var t={},n={8:1},r={};var o={7:function(){return{}},8:function(){return{}}};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[];return t.push(Promise.resolve().then(function(){n[e]||importScripts(({0:"process-hqx",1:"process-imagequant",2:"process-mozjpeg-enc",3:"process-optipng",4:"process-resize",5:"process-rotate",6:"process-webp-dec",7:"process-webp-enc"}[e]||e)+"."+{0:"686f5",1:"f6db1",2:"cc257",3:"c2a0e",4:"21fc8",5:"d9d76",6:"1244a",7:"315f5"}[e]+".worker.js")})),({0:[7],4:[8]}[e]||[]).forEach(function(e){var n=r[e];if(n)t.push(n);else{var i,s=o[e](),u=fetch(a.p+""+{7:"8c087e0290bb39f1e090",8:"bb9bb638551198cd3a42"}[e]+".module.wasm");if(s instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)i=Promise.all([WebAssembly.compileStreaming(u),s]).then(function(e){return WebAssembly.instantiate(e[0],e[1])});else if("function"==typeof WebAssembly.instantiateStreaming)i=WebAssembly.instantiateStreaming(u,s);else{i=u.then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e,s)})}t.push(r[e]=i.then(function(t){return a.w[e]=(t.instance||t).exports}))}}),Promise.all(t)},a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/mt-plugin-Squoosh/squoosh-sdk/0.0.2/",a.w={},a(a.s=1)}([function(e,t,n){"use strict";function r(e,t){return new Promise(n=>{const r=e({noInitialRun:!0,locateFile:e=>e.endsWith(".wasm")?t:e,onRuntimeInitialized(){delete r.then,n(r)}})})}function o(e,t){return Math.min(Math.max(e,t.min||Number.MIN_VALUE),t.max||Number.MAX_VALUE)}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.r(t);const r=Symbol("comlinkProxyValue"),o=["ArrayBuffer","MessagePort","OffscreenCanvas"].filter(e=>e in self).map(e=>self[e]),a=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),i=Symbol("throw"),s=new Map([["PROXY",{canHandle:e=>!!e&&!0===e[r],serialize:e=>{const{port1:t,port2:n}=new MessageChannel;return c(e,t),n},deserialize:e=>(function(e,t){b(e)&&(e=d(e));if(!h(e))throw Error("endpoint does not have all of addEventListener, removeEventListener and postMessage defined");return y(e),function e(t,n=[],r=function(){}){return new Proxy(r,{construct:(e,r,o)=>t({type:"CONSTRUCT",callPath:n,argumentsList:r}),apply:(r,o,a)=>"bind"===n[n.length-1]?e(t,n.slice(0,-1)):t({type:"APPLY",callPath:n,argumentsList:a}),get(r,o,a){if("then"===o&&0===n.length)return{then:()=>a};if("then"===o){const e=t({type:"GET",callPath:n});return Promise.resolve(e).then.bind(e)}return e(t,n.concat(o),r[o])},set:(e,r,o,a)=>t({type:"SET",callPath:n,property:r,value:o})})}(async t=>{let n=[];return"APPLY"!==t.type&&"CONSTRUCT"!==t.type||(n=t.argumentsList.map(l)),f((await function(e,t,n){const r=`${a}-${u++}`;return new Promise(o=>{m(e,function t(n){n.data.id===r&&(function(e,t){e.removeEventListener("message",t)}(e,t),o(n))}),t=Object.assign({},t,{id:r}),e.postMessage(t,n)})}(e,Object.assign({},t,{argumentsList:n}),g(n))).data.value)},[],t)})(e)}],["THROW",{canHandle:e=>e&&e[i],serialize:e=>{const t=e&&e.message,n=e&&e.stack;return Object.assign({},e,{message:t,stack:n})},deserialize:e=>{throw Object.assign(Error(),e)}}]]);let u=0;function c(e,t){if(b(t)&&(t=d(t)),!h(t))throw Error("endpoint does not have all of addEventListener, removeEventListener and postMessage defined");y(t),m(t,async function(n){if(!n.data.id||!n.data.callPath)return;const o=n.data;let a=await o.callPath.slice(0,-1).reduce((e,t)=>e[t],e),u=await o.callPath.reduce((e,t)=>e[t],e),c=u,l=[];if("APPLY"!==o.type&&"CONSTRUCT"!==o.type||(l=o.argumentsList.map(f)),"APPLY"===o.type)try{c=await u.apply(a,l)}catch(p){(c=p)[i]=!0}if("CONSTRUCT"===o.type)try{c=function(e){const t=e;return t[r]=!0,t}(c=new u(...l))}catch(p){(c=p)[i]=!0}return"SET"===o.type&&(u[o.property]=o.value,c=!0),(c=function(e){for(const[t,n]of s)if(n.canHandle(e)){const r=n.serialize(e);return{value:{type:t,value:r}}}return{value:{type:"RAW",value:e}}}(c)).id=o.id,t.postMessage(c,g([c]))})}function l(e){for(const[n,r]of s)if(r.canHandle(e))return{type:n,value:r.serialize(e)};let t=[];for(const n of w(e))for(const[e,r]of s)r.canHandle(n.value)&&t.push({path:n.path,wrappedValue:{type:e,value:r.serialize(n.value)}});for(const n of t){n.path.slice(0,-1).reduce((e,t)=>e[t],e)[n.path[n.path.length-1]]=null}return{type:"RAW",value:e,wrappedChildren:t}}function f(e){if(s.has(e.type)){return s.get(e.type).deserialize(e.value)}if(function(e){return"RAW"===e.type}(e)){for(const t of e.wrappedChildren||[]){if(!s.has(t.wrappedValue.type))throw Error(`Unknown value type "${e.type}" at ${t.path.join(".")}`);const n=s.get(t.wrappedValue.type).deserialize(t.wrappedValue.value);p(e.value,t.path,n)}return e.value}throw Error(`Unknown value type "${e.type}"`)}function p(e,t,n){const r=t.slice(-1)[0];t.slice(0,-1).reduce((e,t)=>e[t],e)[r]=n}function d(e){if("Window"!==self.constructor.name)throw Error("self is not a window");return{addEventListener:self.addEventListener.bind(self),removeEventListener:self.removeEventListener.bind(self),postMessage:(t,n)=>e.postMessage(t,"*",n)}}function h(e){return"addEventListener"in e&&"removeEventListener"in e&&"postMessage"in e}function y(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.start()}function m(e,t){e.addEventListener("message",t)}function b(e){return["window","length","location","parent","opener"].every(t=>t in e)}function v(e){return o.some(t=>e instanceof t)}function*w(e,t=[],n=null){if(!e)return;if(n||(n=new WeakSet),n.has(e))return;if("string"==typeof e)return;if("object"==typeof e&&n.add(e),ArrayBuffer.isView(e))return;yield{value:e,path:t};const r=Object.keys(e);for(const o of r)yield*w(e[o],[...t,o],n)}function g(e){const t=[];for(const n of w(e))v(n.value)&&t.push(n.value);return t}var P=n(0);c({mozjpegEncode:async function(e,t){const{encode:r}=await n.e(2).then(n.bind(null,15));return r(e,t)},quantize:async function(e,t){const{process:r}=await n.e(1).then(n.bind(null,16));return r(e,t)},rotate:async function(e,t){const{rotate:r}=await n.e(5).then(n.bind(null,17));return r(e,t)},resize:async function(e,t){if(function(e){return"hqx"===e.method}(t)){const{hqx:r}=await n.e(0).then(n.bind(null,22)),o=t.width/e.width,a=t.height/e.height,i=Math.max(o,a);return i<=1?e:r(e,{factor:Object(P.a)(Math.ceil(i),{min:2,max:4})})}const{resize:r}=await n.e(4).then(n.bind(null,21));return r(e,t)},optiPngEncode:async function(e,t){const{compress:r}=await n.e(3).then(n.bind(null,18));return r(e,t)},webpEncode:async function(e,t){const{encode:r}=await n.e(7).then(n.bind(null,19));return r(e,t)},webpDecode:async function(e){const{decode:t}=await n.e(6).then(n.bind(null,20));return t(e)}},self)}]);
//# sourceMappingURL=processor-worker.63a04.worker.js.map